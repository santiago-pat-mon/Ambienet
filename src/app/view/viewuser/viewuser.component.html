<div class="container" *ngIf="rol == 'admin'">
  <mat-card class="dataContainer">
    <h3 style="text-align: center">Usuarios Registrados</h3>
    <div style="overflow-x: auto">
      <mat-form-field style="width: 100%">
        <input
          matInput
          (keyup)="applyObjectFilter($event.target.value)"
          placeholder="Buscar post por nombre de usuario o correo"
          style="width: 100%; color: #000000"
        />
        <mat-icon matSuffix>
          <img
            width="20"
            src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKgSURBVEhLtZY9aBRRFIUHFP/AQo1I0EZcRVbW3c3+DdushY34g82ikEILcfMjBIwISRBtFCsbtdJWQYNir2gEEVIYo4aglWulWIRtUmix+t3JGYjOTHZG1gOH9959597z5s2bt+tEoW8Jl+GTQqHwGr6kf4+2Qdsr2b+DQmUKvaD9tQJ/wNulUmmL0pIBg7PwpxWjfQr7y+Xyjnq9vqpWq63L5XJpYheYb8qwSSyr9HggqaHkhXw+f1ThUKTT6TXorsE2bGG2W1Mrg8JFEmw7WnCvwh3B0w2ht6f/aOYKRwOh905ojygUG+TcVe6IQuFA0GdC+EyhRKhUKtsosUh+U6FwILiiFfXbmDbx0SX/odXgFOYUCgLBYxNls9ntNsbopjeRAOQMa7GnFQqCyWlEbTvCNqY/T2yXNxkT5ByX0bhCQTDpHQT7TjT+Bi95kzHBqT0ho1GFgmDyvonY330aTzFu2YfqCWKAnHGrYYYKBYHA+1D91dCe0Xg6k8ls8kQdgPaV5fjvORSIeqFdO59TqdRatnA1Y/+7+kR7QNJQoHHRtGmnFIoGwltWGF61cbVa3Uj/gWJmOAOv02+4rrvZSwKMNxB/Y5pisXhI4WjYLUzCFxLs7hpQ2LELk/FFmQzw3nZqysFwPbFH0BYyqXBn8CL3k7SgxDsw8sNlzoUzppX+Kxykf852Q7Jo8GR7EM8reRFOwmG25ZidKPpj0F68PbmZ2PZ+V983fUvbo5LRsFsY8Qhi/zcnQOafY37Q9PRHQzSzbPtWr2Ac2N1FoVMkTsDzFD/J+I8tjTCyxbxPZNYJ9k4oatv1/80o2gNnl5v4xGwu1gGJC1s5hd/9bWTEbEiy7sDMKPohxOiwJN2DzOaWmdzQVPehAzII9R/EcX4D3JA6+GR9ZcwAAAAASUVORK5CYII="
          />
        </mat-icon>
      </mat-form-field>
      <table
        mat-table
        id="tableUsers"
        [dataSource]="userDataSource"
        class="mat-elevation-z8"
      >
        <!-- username Column -->
        <ng-container matColumnDef="username">
          <th mat-header-cell *matHeaderCellDef>Nombre usuario</th>
          <td mat-cell *matCellDef="let user">
            {{ user.username }}
          </td>
        </ng-container>
        <!-- name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Nombre completo</th>
          <td mat-cell *matCellDef="let user">
            {{ user.first_name }} {{ user.last_name }}
          </td>
        </ng-container>
        <!-- email Column -->
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>Correo</th>
          <td mat-cell *matCellDef="let user">
            {{ user.email }}
          </td>
        </ng-container>
        <!-- phone_number Column -->
        <ng-container matColumnDef="phone_number">
          <th mat-header-cell *matHeaderCellDef>Teléfono</th>
          <td mat-cell *matCellDef="let user">
            {{ user.phone_number }}
          </td>
        </ng-container>
        <!-- biography Column -->
        <ng-container matColumnDef="biography">
          <th mat-header-cell *matHeaderCellDef>Biografía</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.biography }}
          </td>
        </ng-container>
        <!-- country Column -->
        <ng-container matColumnDef="country">
          <th mat-header-cell *matHeaderCellDef>País</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.country }}
          </td>
        </ng-container>
        <!-- state Column -->
        <ng-container matColumnDef="state">
          <th mat-header-cell *matHeaderCellDef>Departamento</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.state }}
          </td>
        </ng-container>
        <!-- city Column -->
        <ng-container matColumnDef="city">
          <th mat-header-cell *matHeaderCellDef>Municipio</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.city }}
          </td>
        </ng-container>
        <!-- reputation Column -->
        <ng-container matColumnDef="reputation">
          <th mat-header-cell *matHeaderCellDef>Reputación</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.reputation }}
          </td>
        </ng-container>
        <!-- latitude Column -->
        <!-- <ng-container matColumnDef="latitude">
          <th mat-header-cell *matHeaderCellDef>Latitud</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.latitude }}
          </td>
        </ng-container> -->
        <!-- longitude Column -->
        <!-- <ng-container matColumnDef="longitude">
          <th mat-header-cell *matHeaderCellDef>Longitud</th>
          <td mat-cell *matCellDef="let user">
            {{ user.profile.longitude }}
          </td>
        </ng-container> -->
        <!-- picture Column -->
        <ng-container matColumnDef="picture">
          <th mat-header-cell *matHeaderCellDef>Imagen perfil</th>
          <td mat-cell *matCellDef="let user">
            <img
              src="http://13.58.8.74/php/api/{{ user.profile.picture }}"
              style="width: 40px; height: 40px"
            />
          </td>
        </ng-container>
        <!-- actionDeletePost  -->
        <ng-container matColumnDef="delete_user" stickyEnd>
          <th mat-header-cell *matHeaderCellDef>Acciones</th>
          <td mat-cell style="padding-left: 10px" *matCellDef="let user">
            <button
              mat-raised-button
              style="padding: 0px"
              color="warn"
              aria-label="info icon"
              title="Eliminar Usuario"
              (click)="deleteUser(user)"
            >
              <mat-icon>delete_forever</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <mat-paginator
      [length]="100"
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25, 100]"
    ></mat-paginator>
  </mat-card>
</div>
<div class="container" *ngIf="rol == 'user' || rol == 'guest'">
  <div class="dataContainer">
    <p>
      Acceso restringido. No eres un Administrador, eres un usuario o visitante.
    </p>
    <button mat-raised-button class="viewUserButton" routerLink="/dashboard">
      Volver
    </button>
  </div>
</div>
